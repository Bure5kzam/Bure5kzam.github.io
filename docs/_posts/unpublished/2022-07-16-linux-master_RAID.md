---
layout: single
title: 리눅스 RAID
date: 2022-07-16 12:32

---

# Overview
하드디스크가 소모품인걸 아시나요?
하드디스크는 데이터 저장의 최소단위인 섹터로 구성되어 있는데, 5~10년 정도 사용하면 닳아서 데이터를 저장할 수 없는 섹터들이 생겨났습니다. 이를 베드 섹터라 부릅니다.

베드섹터가 많이 생긴 하드디스크는 버리기는 아깝고, 단일로 사용하기는 저장공간이 부족한 계륵 같은 존재가 되었는데, 여러개를 모아 사용해보자는 취지로 RAID가 생겨났다는... 스토리를 출저 불분명한 어디선가 들은 것 같습니다.

# RAID
 앞서 적었던 스토리의 진위는 확실하지 않지만, 위와 같은 불안정한 하드디스크에 RAID를 적용하면 데이터를 안전하게 저장하고 빠르게 제공할 수 있습니다.

RAID는 데이터를 디스크 내 여러 공간에 복수 저장하거나 오류 발생 시 값이 달라지는 코드를 적용해 데이터의 안정성과 신뢰도를 향상시킵니다.

참고로 RAID의 풀네임은 복수 배열 독립 디스크(Redundant Array of Independent Disks) 혹은 복수 배열 확장 디스크 (Redundant Array of Inexpensive Disks)

| 종류   | 내용                                                                                                                                                                                                                                                                     |
| ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| RAID 0 | 스트라이프 기법. 데이터를 저장할 때 여러 장치에 분산 저장합니다. 문제는 분산 저장 중 에러가 발생하면 분산 저장한 모든 데이터를 신뢰할 수 없기 때문에, 아래의 솔루션이 생겨났습니다. 추가로 RAID 0은 여러 저장 장치를 하나의 대량 가상 장치에 풀할 때 사용될 수 있습니다. |
| RAID 1 | 미러링 기법. 하나의 저장 장치 내의 데이터를 다른 저장 장치에 미러링합니다.  덕분에 에러가 발생할 경우 복구할 수 있지만 최소 2 개 이상 파티션이 필요합니다.                                                                                                               |
| RAID 2 | ECC. 에러가 발생하면 에러비트로 검출할 수 있습니다. 디제 저장 완료 후에도 에러 비트를 검사해 해당 디스크에 문제가 있는지 확인할 수 있습니다.                                                                                                                             |
| RAID 3 | 에러 비트만 따로 저장하는 디스크가 추가됩니다. 최소 3개 디스크가 필요합니다.                                                                                                                                                                                             |
| RAID 4 | RAID 3에서 저장하던 에러비트를 블록 단위로 저장합니다.                                                                                                                                                                                                                   |
| RAID 5 | 에러 비트를 한 디스크에 몰아 저장하든 RAID 3, RAID 4와 달리 나머지 디스크에 분산 저장합니다                                                                                                                                                                              |
| RAID 6 | 에러 비트를 다른 두개의 디스크에 분산 저장하는 방식입니다. 고장 대비 능력이 매우 높습니다.                                                                                                                                                                               |

# Reference
https://access.redhat.com/documentation/ko-kr/red_hat_enterprise_linux/6/html/installation_guide/create_software_raid-x86
https://ko.wikipedia.org/wiki/%EB%94%94%EC%8A%A4%ED%81%AC_%EC%84%B9%ED%84%B0